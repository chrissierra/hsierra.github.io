<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Guardando direcciones</title>
</head>
<body>
	<div>
		
		<form action="guardarfile.php" method="get">

			<label for="">Descripci√≥n</label><input type="text" name="descripcion"><br>
			<label for="">latitud</label><input type="text" name="latitud"><br>
			<label for="">longitud</label><input type="text" name="longitud"><br>
			<label for="">Geolocation</label><input type="text" name="geolocationinput"> <input type="checkbox" name="geolocationcheck"><label for="">Activa geolocation</label><br><input type="hidden" id="latitudg" name="latitudg" value="test1"><input type="hidden" id="longitudg" name="longitudg" value="test2">
			<label for="">Envia</label><input type="submit">
		</form>
	</div>

	<script>


fetch('peo.txt').then(function(response) {
return response.text();
}).then(function(text){
	//console.log(text)
	textoAreaDividido = text.split(",");
	//console.log(textoAreaDividido[1]);
	for (var i = 0; i < textoAreaDividido.length; i++) {
		if(textoAreaDividido[i].length<5){
			return;
		}
        var n0 = textoAreaDividido[i].search("{");
		var n1 = textoAreaDividido[i].search("}");
	    var n2 = textoAreaDividido[i].search("/");
	    var n3 = textoAreaDividido[i].search(";");
//alert(n2)
	    var descripcion = textoAreaDividido[i].substr(n0+1, n1-n0-1);
	    var latitud = textoAreaDividido[i].substr(n1+1, n2-n1-1);
	    var longitud = textoAreaDividido[i].substr(n2+1, textoAreaDividido[i].length);
	    //console.log(res1+"otra"+res2+" "+res3)

	};
	


})






	function success(pos) {
  var crd = pos.coords;
document.getElementById("latitudg").value= crd.latitude;
document.getElementById("longitudg").value= crd.longitude;


  console.log('Your current position is:');
  console.log('Latitude : ' + crd.latitude);
  console.log('Longitude: ' + crd.longitude);
  console.log('More or less ' + crd.accuracy + ' meters.');
  
};
navigator.geolocation.getCurrentPosition(success);
	</script>
</body>
</html>